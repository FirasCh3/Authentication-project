{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\nexport let LoginComponent = class LoginComponent {\n  constructor(Request, router) {\n    this.Request = Request;\n    this.router = router;\n    this.group = new FormGroup({\n      email: new FormControl(null, [Validators.required, Validators.email]),\n      password: new FormControl(null, [Validators.required, Validators.minLength(8)])\n    }, [], this.restricted.bind(this));\n  }\n  UserDoesNotExist(UserData, UserInput) {\n    let UserExists = false;\n    let i = 0;\n    while (i < UserData.length && UserExists == false) {\n      if (UserInput == UserData[i].email) {\n        UserExists = true;\n      } else {\n        i++;\n      }\n    }\n    return UserExists;\n  }\n  restricted(control) {\n    let UserData;\n    this.Request.GetAllUsers().subscribe(data => {\n      UserData = data;\n    });\n    let promise = new Promise((resolve, reject) => {\n      setTimeout(() => {\n        let UserInput = control.value;\n        if (this.UserDoesNotExist(UserData, UserInput) == false) {\n          resolve({\n            error: false\n          });\n        } else {\n          resolve(null);\n        }\n      }, 1000);\n    });\n    return promise;\n  }\n  submit() {\n    if (this.group.valid) {\n      this.router.navigate([\"/home\"]);\n    }\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);","map":{"version":3,"names":["Component","FormControl","FormGroup","Validators","LoginComponent","constructor","Request","router","group","email","required","password","minLength","restricted","bind","UserDoesNotExist","UserData","UserInput","UserExists","i","length","control","GetAllUsers","subscribe","data","promise","Promise","resolve","reject","setTimeout","value","error","submit","valid","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\user\\Desktop\\SpringBootProject\\src\\main\\resources\\my-app\\src\\app\\login\\login.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport {httpRequests} from \"../http\";\nimport {AbstractControl, FormControl, FormGroup, Validators} from \"@angular/forms\";\nimport {Observable} from \"rxjs\";\nimport {Router} from \"@angular/router\";\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  constructor(private Request:httpRequests,private router:Router) {\n  }\n  group=new FormGroup({\n    email:new FormControl(null,[Validators.required,Validators.email]),\n    password:new FormControl(null,[Validators.required,Validators.minLength(8)])\n  },[],this.restricted.bind(this));\n  UserDoesNotExist(UserData:any,UserInput:any):Boolean{\n    let UserExists:Boolean=false;\n    let i=0;\n    while(i < UserData.length && UserExists == false){\n      if(UserInput==UserData[i].email){\n        UserExists=true;\n      }else{\n        i++;\n      }\n    }\n\n    return UserExists;\n  }\n  restricted(control:AbstractControl):Promise<any>|Observable<any>{\n    let UserData:any;\n    this.Request.GetAllUsers().subscribe((data)=>{\n      UserData=data;\n\n    })\n    let promise = new Promise((resolve, reject) => {\n\n      setTimeout(() => {\n        let UserInput = control.value;\n        if(this.UserDoesNotExist(UserData,UserInput)==false){\n          resolve({error:false})\n        }else{\n          resolve(null);\n        }\n\n\n\n      }, 1000)\n    });\n    return promise;\n  }\n  submit(){\n      if(this.group.valid){\n        this.router.navigate([\"/home\"]);\n      }\n  }\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAEzC,SAAyBC,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAO,gBAAgB;AAS3E,WAAMC,cAAc,GAApB,MAAMA,cAAc;EACzBC,YAAoBC,OAAoB,EAASC,MAAa;IAA1C,KAAAD,OAAO,GAAPA,OAAO;IAAsB,KAAAC,MAAM,GAANA,MAAM;IAEvD,KAAAC,KAAK,GAAC,IAAIN,SAAS,CAAC;MAClBO,KAAK,EAAC,IAAIR,WAAW,CAAC,IAAI,EAAC,CAACE,UAAU,CAACO,QAAQ,EAACP,UAAU,CAACM,KAAK,CAAC,CAAC;MAClEE,QAAQ,EAAC,IAAIV,WAAW,CAAC,IAAI,EAAC,CAACE,UAAU,CAACO,QAAQ,EAACP,UAAU,CAACS,SAAS,CAAC,CAAC,CAAC,CAAC;KAC5E,EAAC,EAAE,EAAC,IAAI,CAACC,UAAU,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;EAJhC;EAKAC,gBAAgBA,CAACC,QAAY,EAACC,SAAa;IACzC,IAAIC,UAAU,GAAS,KAAK;IAC5B,IAAIC,CAAC,GAAC,CAAC;IACP,OAAMA,CAAC,GAAGH,QAAQ,CAACI,MAAM,IAAIF,UAAU,IAAI,KAAK,EAAC;MAC/C,IAAGD,SAAS,IAAED,QAAQ,CAACG,CAAC,CAAC,CAACV,KAAK,EAAC;QAC9BS,UAAU,GAAC,IAAI;OAChB,MAAI;QACHC,CAAC,EAAE;;;IAIP,OAAOD,UAAU;EACnB;EACAL,UAAUA,CAACQ,OAAuB;IAChC,IAAIL,QAAY;IAChB,IAAI,CAACV,OAAO,CAACgB,WAAW,EAAE,CAACC,SAAS,CAAEC,IAAI,IAAG;MAC3CR,QAAQ,GAACQ,IAAI;IAEf,CAAC,CAAC;IACF,IAAIC,OAAO,GAAG,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAI;MAE5CC,UAAU,CAAC,MAAK;QACd,IAAIZ,SAAS,GAAGI,OAAO,CAACS,KAAK;QAC7B,IAAG,IAAI,CAACf,gBAAgB,CAACC,QAAQ,EAACC,SAAS,CAAC,IAAE,KAAK,EAAC;UAClDU,OAAO,CAAC;YAACI,KAAK,EAAC;UAAK,CAAC,CAAC;SACvB,MAAI;UACHJ,OAAO,CAAC,IAAI,CAAC;;MAKjB,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,CAAC;IACF,OAAOF,OAAO;EAChB;EACAO,MAAMA,CAAA;IACF,IAAG,IAAI,CAACxB,KAAK,CAACyB,KAAK,EAAC;MAClB,IAAI,CAAC1B,MAAM,CAAC2B,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;;EAErC;CAED;AAhDY9B,cAAc,GAAA+B,UAAA,EAL1BnC,SAAS,CAAC;EACToC,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,C,EACWlC,cAAc,CAgD1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}